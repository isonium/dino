{% extends 'index.html' %}

{% block content %}

<p>
    Channels
</p>

<div>
    <form method="post" action="/create/channel" class="pure-form">
        <fieldset>
             <legend>Create new channel</legend>
            {{ render_field(form.name) }}
            {{ render_field(form.owner) }}
            <p><input type="submit" value="Create" class="pure-button pure-button-primary" /></p>
        </fieldset>
    </form>
</div>

<table id="list-channels" class="display responsive" cellspacing="0" width="100%">
    <thead>
        <tr>
            <td>
                Sort order
            </td>
            <td>
                Name
            </td>
            <td>
                UUID
            </td>
        </tr>
    </thead>
    <tbody>
        {% for channel in channels %}
        <tr>
            <td>
                {{ channel.sort }}
                {{ render_edit("/channel/" + channel.uuid + "/sort") }}
            </td>
            <td>
                <a class="channel-link" href="/channel/{{ channel.uuid }}/rooms">{{ channel.name }}</a>
                {{ render_rename("/channel/" + channel.uuid + "/rename") }}
            </td>
            <td>
                <small>{{ channel.uuid }}</small>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<script type="text/javascript" src="static/custom/js/channels.js"></script>

{% endblock %}
